{"ast":null,"code":"//escape a string like 'fun*2.Co' for a regExpr\nfunction escapeRegExp(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n} //sometimes text-replacements can be ambiguous - words used multiple times..\n\n\nvar smartReplace = function smartReplace(all, text, result) {\n  if (!text || !all) {\n    return all;\n  }\n\n  if (typeof all === 'number') {\n    all = String(all);\n  }\n\n  text = escapeRegExp(text); //try a word-boundary replace\n\n  var reg = new RegExp('\\\\b' + text + '\\\\b');\n\n  if (reg.test(all) === true) {\n    all = all.replace(reg, result);\n  } else {\n    //otherwise, fall-back to a much messier, dangerous replacement\n    // console.warn('missing \\'' + text + '\\'');\n    all = all.replace(text, result);\n  }\n\n  return all;\n};\n\nmodule.exports = smartReplace;","map":null,"metadata":{},"sourceType":"script"}