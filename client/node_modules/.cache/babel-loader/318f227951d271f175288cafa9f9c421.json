{"ast":null,"code":"var i18n = require('../_data/i18n');\n\nvar parseLink = require('../04-sentence/links'); //pulls target link out of redirect page\n\n\nvar REDIRECT_REGEX = new RegExp('^[ \\n\\t]*?#(' + i18n.redirects.join('|') + ') *?(\\\\[\\\\[.{2,180}?\\\\]\\\\])', 'i');\n\nvar isRedirect = function isRedirect(wiki) {\n  //too long to be a redirect?\n  if (!wiki || wiki.length > 500) {\n    return false;\n  }\n\n  return REDIRECT_REGEX.test(wiki);\n};\n\nvar parse = function parse(wiki) {\n  var m = wiki.match(REDIRECT_REGEX);\n\n  if (m && m[2]) {\n    var links = parseLink(m[2]) || [];\n    return links[0];\n  }\n\n  return {};\n};\n\nmodule.exports = {\n  isRedirect: isRedirect,\n  parse: parse\n};","map":null,"metadata":{},"sourceType":"script"}