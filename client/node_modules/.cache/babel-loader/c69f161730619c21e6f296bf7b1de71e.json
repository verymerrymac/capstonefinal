{"ast":null,"code":"var setDefaults = require('../_lib/setDefaults');\n\nvar defaults = {\n  infoboxes: true,\n  sections: true\n}; // we should try to make this look like the wikipedia does, i guess.\n\nvar softRedirect = function softRedirect(doc) {\n  var link = doc.redirectTo();\n  var href = link.page;\n  href = './' + href.replace(/ /g, '_'); //add anchor\n\n  if (link.anchor) {\n    href += '#' + link.anchor;\n  }\n\n  return 'â†³ \\\\href{' + href + '}{' + link.text + '}';\n}; //\n\n\nvar toLatex = function toLatex(doc, options) {\n  options = setDefaults(options, defaults);\n  var out = ''; //if it's a redirect page, give it a 'soft landing':\n\n  if (doc.isRedirect() === true) {\n    return softRedirect(doc); //end it here.\n  } //render infoboxes (up at the top)\n\n\n  if (options.infoboxes === true) {\n    out += doc.infoboxes().map(function (i) {\n      return i.latex(options);\n    }).join('\\n');\n  } //render each section\n\n\n  if (options.sections === true || options.paragraphs === true || options.sentences === true) {\n    out += doc.sections().map(function (s) {\n      return s.latex(options);\n    }).join('\\n');\n  } //default off\n  //render citations\n\n\n  if (options.citations === true) {\n    out += doc.citations().map(function (c) {\n      return c.latex(options);\n    }).join('\\n');\n  }\n\n  return out;\n};\n\nmodule.exports = toLatex;","map":null,"metadata":{},"sourceType":"script"}