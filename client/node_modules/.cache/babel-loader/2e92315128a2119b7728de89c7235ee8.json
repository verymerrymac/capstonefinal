{"ast":null,"code":"var setDefaults = require('../../_lib/setDefaults');\n\nvar toHtml = require('./toHtml');\n\nvar toMarkdown = require('./toMarkdown');\n\nvar toLatex = require('./toLatex');\n\nvar toJson = require('./toJson');\n\nvar aliasList = require('../../_lib/aliases');\n\nvar defaults = {};\n\nvar Table = function Table(data) {\n  Object.defineProperty(this, 'data', {\n    enumerable: false,\n    value: data\n  });\n};\n\nvar methods = {\n  links: function links(n) {\n    var links = [];\n    this.data.forEach(function (r) {\n      Object.keys(r).forEach(function (k) {\n        links = links.concat(r[k].links());\n      });\n    }); //grab a specific link..\n\n    if (typeof n === 'number') {\n      return links[n];\n    } else if (typeof n === 'string') {\n      //grab a link like .links('Fortnight')\n      n = n.charAt(0).toUpperCase() + n.substring(1); //titlecase it\n\n      var link = links.find(function (o) {\n        return o.page === n;\n      });\n      return link === undefined ? [] : [link];\n    }\n\n    return links;\n  },\n  keyValue: function keyValue(options) {\n    var rows = this.json(options);\n    rows.forEach(function (row) {\n      Object.keys(row).forEach(function (k) {\n        row[k] = row[k].text;\n      });\n    });\n    return rows;\n  },\n  json: function json(options) {\n    options = setDefaults(options, defaults);\n    return toJson(this.data, options);\n  },\n  html: function html(options) {\n    options = setDefaults(options, defaults);\n    return toHtml(this.data, options);\n  },\n  markdown: function markdown(options) {\n    options = setDefaults(options, defaults);\n    return toMarkdown(this.data, options);\n  },\n  latex: function latex(options) {\n    options = setDefaults(options, defaults);\n    return toLatex(this.data, options);\n  },\n  text: function text() {\n    return '';\n  }\n};\nmethods.keyvalue = methods.keyValue;\nmethods.keyval = methods.keyValue;\nObject.keys(methods).forEach(function (k) {\n  Table.prototype[k] = methods[k];\n}); //add alises, too\n\nObject.keys(aliasList).forEach(function (k) {\n  Table.prototype[k] = methods[aliasList[k]];\n});\nmodule.exports = Table;","map":null,"metadata":{},"sourceType":"script"}