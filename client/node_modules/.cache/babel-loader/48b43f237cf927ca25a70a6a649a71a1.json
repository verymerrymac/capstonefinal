{"ast":null,"code":"var smartReplace = require('../_lib/smartReplace');\n\nvar helpers = require('../_lib/helpers');\n\nvar setDefaults = require('../_lib/setDefaults');\n\nvar defaults = {\n  links: true,\n  formatting: true\n}; // create links, bold, italic in html\n\nvar doSentence = function doSentence(sentence, options) {\n  options = setDefaults(options, defaults);\n  var text = sentence.text(); //turn links into <a href>\n\n  if (options.links === true) {\n    sentence.links().forEach(function (link) {\n      var href = '';\n      var classNames = 'link';\n\n      if (link.site) {\n        //use an external link\n        href = link.site;\n        classNames += ' external';\n      } else {\n        //otherwise, make it a relative internal link\n        href = helpers.capitalise(link.page);\n        href = './' + href.replace(/ /g, '_'); //add anchor\n\n        if (link.anchor) {\n          href += \"#\".concat(link.anchor);\n        }\n      }\n\n      var str = link.text || link.page;\n      var tag = \"<a class=\\\"\".concat(classNames, \"\\\" href=\\\"\").concat(href, \"\\\">\").concat(str, \"</a>\");\n      text = smartReplace(text, str, tag);\n    });\n  }\n\n  if (options.formatting === true) {\n    //support bolds\n    sentence.bold().forEach(function (str) {\n      var tag = '<b>' + str + '</b>';\n      text = smartReplace(text, str, tag);\n    }); //do italics\n\n    sentence.italic().forEach(function (str) {\n      var tag = '<i>' + str + '</i>';\n      text = smartReplace(text, str, tag);\n    });\n  }\n\n  return '<span class=\"sentence\">' + text + '</span>';\n};\n\nmodule.exports = doSentence;","map":null,"metadata":{},"sourceType":"script"}