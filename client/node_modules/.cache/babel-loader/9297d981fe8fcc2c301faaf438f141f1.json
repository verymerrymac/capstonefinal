{"ast":null,"code":"var i18n = require('../_data/i18n');\n\nvar i18nReg = new RegExp('^(subst.)?(' + i18n.infoboxes.join('|') + ')[: \\n]', 'i'); //some looser ones\n\nvar startReg = /^infobox /i;\nvar endReg = / infobox$/i;\nvar yearIn = /$Year in [A-Z]/i; //some known ones from\n// https://en.wikipedia.org/wiki/Wikipedia:List_of_infoboxes\n// and https://en.wikipedia.org/wiki/Category:Infobox_templates\n\nvar known = {\n  'gnf protein box': true,\n  'automatic taxobox': true,\n  'chembox ': true,\n  'editnotice': true,\n  'geobox': true,\n  'hybridbox': true,\n  'ichnobox': true,\n  'infraspeciesbox': true,\n  'mycomorphbox': true,\n  'oobox': true,\n  'paraphyletic group': true,\n  'speciesbox': true,\n  'subspeciesbox': true,\n  'starbox short': true,\n  'taxobox': true,\n  'nhlteamseason': true,\n  'asian games bid': true,\n  'canadian federal election results': true,\n  'dc thomson comic strip': true,\n  'daytona 24 races': true,\n  'edencharacter': true,\n  'moldova national football team results': true,\n  'samurai': true,\n  'protein': true,\n  'sheet authority': true,\n  'order-of-approx': true,\n  'bacterial labs': true,\n  'medical resources': true,\n  'ordination': true,\n  'hockey team coach': true,\n  'hockey team gm': true,\n  'hockey team player': true,\n  'hockey team start': true,\n  'mlbbioret': true\n}; //\n\nvar isInfobox = function isInfobox(name) {\n  // known\n  if (known.hasOwnProperty(name) === true) {\n    return true;\n  }\n\n  if (i18nReg.test(name)) {\n    return true;\n  }\n\n  if (startReg.test(name) || endReg.test(name)) {\n    return true;\n  } //these are also infoboxes: 'Year in Belarus'\n\n\n  if (yearIn.test(name)) {\n    return true;\n  }\n\n  return false;\n}; //turns template data into good inforbox data\n\n\nvar fmtInfobox = function fmtInfobox() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var m = obj.template.match(i18nReg);\n  var type = obj.template;\n\n  if (m && m[0]) {\n    type = type.replace(m[0], '');\n  }\n\n  type = type.trim();\n  var infobox = {\n    template: 'infobox',\n    type: type,\n    data: obj\n  };\n  delete infobox.data.template; // already have this.\n\n  delete infobox.data.list; //just in case!\n\n  return infobox;\n};\n\nmodule.exports = {\n  isInfobox: isInfobox,\n  format: fmtInfobox\n};","map":null,"metadata":{},"sourceType":"script"}