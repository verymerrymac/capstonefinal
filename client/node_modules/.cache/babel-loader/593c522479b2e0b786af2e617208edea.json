{"ast":null,"code":"//assorted parsing methods for date/time templates\nvar months = require('./_months');\n\nvar monthName = months.reduce(function (h, str, i) {\n  if (i === 0) {\n    return h;\n  }\n\n  h[str.toLowerCase()] = i;\n  return h;\n}, {}); //parse year|month|date numbers\n\nvar ymd = function ymd(arr) {\n  var obj = {};\n  var units = ['year', 'month', 'date', 'hour', 'minute', 'second']; //parse each unit in sequence..\n\n  for (var i = 0; i < units.length; i += 1) {\n    //skip it\n    if (!arr[i] && arr[1] !== 0) {\n      continue;\n    }\n\n    var num = parseInt(arr[i], 10);\n\n    if (isNaN(num) === false) {\n      obj[units[i]] = num; //we good.\n    } else if (units[i] === 'month' && monthName.hasOwnProperty(arr[i])) {\n      //try for month-name, like 'january\n      var month = monthName[arr[i]];\n      obj[units[i]] = month;\n    } else {\n      //we dead. so skip this unit\n      delete obj[units[i]];\n    }\n  } //try for timezone,too ftw\n\n\n  var last = arr[arr.length - 1] || '';\n  last = String(last);\n\n  if (last.toLowerCase() === 'z') {\n    obj.tz = 'UTC';\n  } else if (/[+-][0-9]+:[0-9]/.test(last)) {\n    obj.tz = arr[6];\n  }\n\n  return obj;\n}; //zero-pad a number\n\n\nvar pad = function pad(num) {\n  if (num < 10) {\n    return '0' + num;\n  }\n\n  return String(num);\n};\n\nvar toText = function toText(date) {\n  //eg '1995'\n  var str = String(date.year || '');\n\n  if (date.month !== undefined && months.hasOwnProperty(date.month) === true) {\n    if (date.date === undefined) {\n      //January 1995\n      str = \"\".concat(months[date.month], \" \").concat(date.year);\n    } else {\n      //January 5, 1995\n      str = \"\".concat(months[date.month], \" \").concat(date.date, \", \").concat(date.year); //add times, if available\n\n      if (date.hour !== undefined && date.minute !== undefined) {\n        var time = \"\".concat(pad(date.hour), \":\").concat(pad(date.minute));\n\n        if (date.second !== undefined) {\n          time = time + ':' + pad(date.second);\n        }\n\n        str = time + ', ' + str; //add timezone, if there, at the end in brackets\n      }\n\n      if (date.tz) {\n        str += \" (\".concat(date.tz, \")\");\n      }\n    }\n  }\n\n  return str;\n};\n\nmodule.exports = {\n  toText: toText,\n  ymd: ymd\n}; // console.log(toText(ymd([2018, 3, 28])));","map":null,"metadata":{},"sourceType":"script"}