{"ast":null,"code":"var setDefaults = require('../_lib/setDefaults');\n\nvar defaults = {\n  caption: true,\n  alt: true,\n  links: true,\n  thumb: true,\n  url: true\n}; //\n\nvar toJson = function toJson(img, options) {\n  options = setDefaults(options, defaults);\n  var json = {\n    file: img.file()\n  };\n\n  if (options.thumb !== false) {\n    json.thumb = img.thumbnail();\n  }\n\n  if (options.url !== false) {\n    json.url = img.url();\n  } //add captions\n\n\n  if (options.caption !== false && img.data.caption) {\n    json.caption = img.caption();\n\n    if (options.links !== false && img.data.caption.links()) {\n      json.links = img.links();\n    }\n  }\n\n  if (options.alt !== false && img.data.alt) {\n    json.alt = img.alt();\n  }\n\n  return json;\n};\n\nmodule.exports = toJson;","map":null,"metadata":{},"sourceType":"script"}