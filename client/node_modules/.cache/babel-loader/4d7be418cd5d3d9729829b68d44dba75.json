{"ast":null,"code":"var setDefaults = require('../_lib/setDefaults');\n\nvar defaults = {\n  title: true,\n  sections: true,\n  pageID: true,\n  categories: true\n}; //an opinionated output of the most-wanted data\n\nvar toJSON = function toJSON(doc, options) {\n  options = setDefaults(options, defaults);\n  var data = {};\n\n  if (options.title) {\n    data.title = doc.options.title || doc.title();\n  }\n\n  if (options.pageID && doc.options.pageID) {\n    data.pageID = doc.options.pageID;\n  }\n\n  if (options.categories) {\n    data.categories = doc.categories();\n  }\n\n  if (options.sections) {\n    data.sections = doc.sections().map(function (i) {\n      return i.json(options);\n    });\n  }\n\n  if (doc.isRedirect() === true) {\n    data.isRedirect = true;\n    data.redirectTo = doc.data.redirectTo;\n    data.sections = [];\n  } //these are default-off\n\n\n  if (options.coordinates) {\n    data.coordinates = doc.coordinates();\n  }\n\n  if (options.infoboxes) {\n    data.infoboxes = doc.infoboxes().map(function (i) {\n      return i.json(options);\n    });\n  }\n\n  if (options.images) {\n    data.images = doc.images().map(function (i) {\n      return i.json(options);\n    });\n  }\n\n  if (options.plaintext) {\n    data.plaintext = doc.plaintext(options);\n  }\n\n  if (options.citations || options.references) {\n    data.references = doc.references();\n  }\n\n  if (options.markdown) {\n    data.markdown = doc.markdown(options);\n  }\n\n  if (options.html) {\n    data.html = doc.html(options);\n  }\n\n  if (options.latex) {\n    data.latex = doc.latex(options);\n  }\n\n  return data;\n};\n\nmodule.exports = toJSON;","map":null,"metadata":{},"sourceType":"script"}