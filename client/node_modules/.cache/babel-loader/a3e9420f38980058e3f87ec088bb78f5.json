{"ast":null,"code":"var pad = require('../../_lib/pad');\n/* this is a markdown table:\n| Tables        | Are           | Cool  |\n| ------------- |:-------------:| -----:|\n| col 3 is      | right-aligned | $1600 |\n| col 2 is      | centered      |   $12 |\n| zebra stripes | are neat      |    $1 |\n*/\n\n\nvar makeRow = function makeRow(arr) {\n  arr = arr.map(function (s) {\n    return pad(s, 14);\n  });\n  return '| ' + arr.join(' | ') + ' |';\n}; //markdown tables are weird\n\n\nvar doTable = function doTable(table, options) {\n  var md = '';\n\n  if (!table || table.length === 0) {\n    return md;\n  }\n\n  var keys = Object.keys(table[0]); //first, grab the headers\n  //remove auto-generated number keys\n\n  var headers = keys.map(function (k) {\n    if (/^col[0-9]/.test(k) === true) {\n      return '';\n    }\n\n    return k;\n  }); //draw the header (necessary!)\n\n  md += makeRow(headers) + '\\n';\n  md += makeRow(headers.map(function () {\n    return '---';\n  })) + '\\n'; //do each row..\n\n  md += table.map(function (row) {\n    //each column..\n    var arr = keys.map(function (k) {\n      if (!row[k]) {\n        return '';\n      }\n\n      return row[k].markdown(options) || '';\n    }); //make it a nice padded row\n\n    return makeRow(arr);\n  }).join('\\n');\n  return md + '\\n';\n};\n\nmodule.exports = doTable;","map":null,"metadata":{},"sourceType":"script"}