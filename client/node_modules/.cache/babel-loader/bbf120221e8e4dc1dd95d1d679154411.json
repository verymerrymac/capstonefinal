{"ast":null,"code":"var i18n = require('../_data/i18n');\n\nvar cat_reg = new RegExp('\\\\[\\\\[:?(' + i18n.categories.join('|') + '):(.{2,60}?)]](w{0,10})', 'ig');\nvar cat_remove_reg = new RegExp('^\\\\[\\\\[:?(' + i18n.categories.join('|') + '):', 'ig');\n\nvar parse_categories = function parse_categories(r, wiki) {\n  r.categories = [];\n  var tmp = wiki.match(cat_reg); //regular links\n\n  if (tmp) {\n    tmp.forEach(function (c) {\n      c = c.replace(cat_remove_reg, '');\n      c = c.replace(/\\|?[ \\*]?\\]\\]$/i, ''); //parse fancy onces..\n\n      c = c.replace(/\\|.*/, ''); //everything after the '|' is metadata\n\n      if (c && !c.match(/[\\[\\]]/)) {\n        r.categories.push(c);\n      }\n    });\n  }\n\n  wiki = wiki.replace(cat_reg, '');\n  return wiki;\n};\n\nmodule.exports = parse_categories;","map":null,"metadata":{},"sourceType":"script"}