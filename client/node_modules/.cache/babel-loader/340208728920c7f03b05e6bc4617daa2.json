{"ast":null,"code":"var setDefaults = require('../_lib/setDefaults');\n\nvar defaults = {\n  title: true,\n  infoboxes: true,\n  headers: true,\n  sections: true,\n  links: true\n}; // we should try to make this look like the wikipedia does, i guess.\n\nvar softRedirect = function softRedirect(doc) {\n  var link = doc.redirectTo();\n  var href = link.page;\n  href = './' + href.replace(/ /g, '_');\n\n  if (link.anchor) {\n    href += '#' + link.anchor;\n  }\n\n  return \"  <div class=\\\"redirect\\\">\\n  \\u21B3 <a class=\\\"link\\\" href=\\\"./\".concat(href, \"\\\">\").concat(link.text, \"</a>\\n  </div>\");\n}; //turn a Doc object into a HTML string\n\n\nvar toHtml = function toHtml(doc, options) {\n  options = setDefaults(options, defaults);\n  var data = doc.data;\n  var html = '';\n  html += '<!DOCTYPE html>\\n';\n  html += '<html>\\n';\n  html += '<head>\\n'; //add page title\n\n  if (options.title === true && data.title) {\n    html += '<title>' + data.title + '</title>\\n';\n  }\n\n  html += '</head>\\n';\n  html += '<body>\\n'; //if it's a redirect page, give it a 'soft landing':\n\n  if (doc.isRedirect() === true) {\n    html += softRedirect(doc);\n    return html + '\\n</body>\\n</html>'; //end it here.\n  } //render infoboxes (up at the top)\n\n\n  if (options.infoboxes === true) {\n    html += doc.infoboxes().map(function (i) {\n      return i.html(options);\n    }).join('\\n');\n  } //render each section\n\n\n  if (options.sections === true && (options.paragraphs === true || options.sentences === true)) {\n    html += data.sections.map(function (s) {\n      return s.html(options);\n    }).join('\\n');\n  } //default off\n\n\n  if (options.references === true) {\n    html += '<h2>References</h2>';\n    html += doc.references().map(function (c) {\n      return c.json(options);\n    }).join('\\n');\n  }\n\n  html += '</body>\\n';\n  html += '</html>';\n  return html;\n};\n\nmodule.exports = toHtml;","map":null,"metadata":{},"sourceType":"script"}